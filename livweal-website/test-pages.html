<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Column Resizing with Image and Video</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <style>
        .column {
            position: relative;
            border: 1px solid #ddd;
            padding: 10px;
            margin: 5px;
            overflow: hidden;
            transition: all 0.3s ease-in-out;
            height: 400px; /* Set a fixed height */
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0); /* Transparent background */
            z-index: 1; /* Place the overlay above the content */
        }

        .column img, .column video {
            width: 100%;
            height: 100%; /* Cover the entire height of the column */
            object-fit: cover; /* Maintain aspect ratio while covering the entire space */
            display: block;
        }

        .column video {
            position: absolute;
            top: 0;
            left: 0;
        }

        .video-controls {
            display: none; /* Hide video controls by default */
        }
    </style>
</head>
<body>

<div class="container-fluid">
    <div class="row">
        <div class="col-4 column" id="column1">
            <div class="overlay"></div>
            <img src="https://placehold.co/600x400" alt="Placeholder Image" class="img-fluid">
            <video id="video1" loop muted preload="none" class="d-none" controls>
                <source src="assets/images/home/video/test.webm" type="video/webm">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="col-4 column" id="column2">
            <div class="overlay"></div>
            <img src="https://placehold.co/600x400" alt="Placeholder Image" class="img-fluid">
            <video id="video2" loop muted preload="none" class="d-none" controls>
                <source src="assets/images/home/video/test.webm" type="video/webm">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="col-4 column" id="column3">
            <div class="overlay"></div>
            <img src="https://placehold.co/600x400" alt="Placeholder Image" class="img-fluid">
            <video id="video3" loop muted preload="none" class="d-none" controls>
                <source src="assets/images/home/video/test.webm" type="video/webm">
                Your browser does not support the video tag.
            </video>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script>
    // Function to show video on hover
    function showVideo(columnId) {
        // Hide all images and show videos
        $(".column img").removeClass("d-block").addClass("d-none");
        $(".column video").removeClass("d-none").addClass("d-block");

        // Reset all columns to col-4
        $(".column").removeClass("col-8").addClass("col-4");

        // Resize the hovered column to col-8
        $("#" + columnId).removeClass("col-4").addClass("col-8");

        // Autoplay the hovered video
        $("#" + columnId + " video").get(0).play();
    }

    // Function to reset columns on mouse out
    function resetColumns(columnId) {
        // Show all images and hide videos
        $(".column img").removeClass("d-none").addClass("d-block");
        $(".column video").removeClass("d-block").addClass("d-none");

        // Reset all columns to col-4
        $(".column").removeClass("col-8").addClass("col-4");

        // Pause all videos
        $(".column video").each(function () {
            this.pause();
        });
    }

    // Add event listeners using unique IDs
    for (let i = 1; i <= 3; i++) {
        const columnId = "column" + i;
        document.getElementById(columnId).addEventListener("mouseover", function () {
            showVideo(columnId);
        });
        document.getElementById(columnId).addEventListener("mouseout", function () {
            resetColumns(columnId);
        });
    }
</script>

</body>
</html>
