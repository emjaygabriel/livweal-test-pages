document.addEventListener("DOMContentLoaded",function(){init_story_slider(),init_testimonial_video1_click(),init_testimonial_video2_click(),init_welcome_video_click()});const init_story_slider=()=>{console.log("init story slider!");var e={autoplay:!1,dots:!0,arrows:!0,infinite:!1,prevArrow:'<span class="slider_prev"><i class="fa-solid fa-circle-chevron-up"></i></span>',nextArrow:'<span class="slider_next"><i class="fa-solid fa-circle-chevron-down"></i></span>',fade:!0},n=$("#story_slider");n.slick(e),n.on("afterChange",function(e,t,i){var o=n.find(".slick-current video")[0];o&&loadAndPlayVideo(o)}),setTimeout(function(){var e=n.find(".slick-current video")[0];e&&loadAndPlayVideo(e)},1e3)},loadAndPlayVideo=e=>{var t;e.hasAttribute("src")||(t=e.querySelector("source[data-src]"),console.log(t.getAttribute("data-src")),t&&(e.src=t.getAttribute("data-src"))),setTimeout(function(){e.currentTime=0,e.play()},300)},init_testimonial_video1_click=()=>{var e=document.getElementById("btn_testimonial1"),t=document.getElementById("btn_testimonial1_link");const i=e=>{load_overlay_video(e)};e.addEventListener("click",function(e){e.preventDefault(),i("assets/images/home/video/test.webm")}),t.addEventListener("click",function(e){e.preventDefault(),i("assets/images/home/video/test.webm")})},init_testimonial_video2_click=()=>{var e=document.getElementById("btn_testimonial2"),t=document.getElementById("btn_testimonial2_link");const i=e=>{load_overlay_video(e)};e.addEventListener("click",function(e){e.preventDefault(),i("assets/images/home/video/test.webm")}),t.addEventListener("click",function(e){e.preventDefault(),i("assets/images/home/video/test.webm")})},init_welcome_video_click=()=>{var e=document.getElementById("btn_welcome_video");e.addEventListener("click",function(e){e.preventDefault(),load_overlay_video("assets/images/home/video/test.webm")})},load_overlay_video=t=>{const i=document.getElementById("video_overlay"),o=document.getElementById("overlay_container");i.classList.toggle("active");let n=document.createElement("video");n.id="overlayVideo",n.autoplay=!1,n.loop=!0,n.controls=!0,setTimeout(function(){var e;i.classList.contains("active")?((e=document.createElement("source")).src=t,e.type="video/webm",n.appendChild(e),o.appendChild(n),console.log("init overlay"),document.getElementById("close_overlay").addEventListener("click",function(e){console.log("init overlay click"),e.preventDefault(),n&&(n.pause(),n.currentTime=0,o.removeChild(n),document.getElementById("video_overlay").classList.toggle("active"))})):(e=document.getElementById("overlayVideo"))&&(e.pause(),e.currentTime=0,o.removeChild(e))},500)};